━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🐧 企鹅工坊 PenguinMagic v1.1.9 更新日志
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

发布日期：2026-01-13

本次更新主要完善了画布功能，并修复了 Windows 打包的图标显示问题。

═══════════════════════════════════════════════════

## 🎨 画布功能介绍

企鹅工坊的**画布（Pebbling Canvas）**是一个可视化节点编辑器，让 AI 图像创作流程变得直观且强大。

### 核心特性

**📦 丰富的节点类型**

- **创意节点（Creative）** - 从创意库直接拖入画布使用
- **图片节点（Image）** - 上传或加载图片作为输入源
- **提示词节点（Prompt）** - 编写和组合提示词
- **文本节点（Text）** - 添加文本说明或标注
- **保存节点（SaveImage）** - 保存生成的图片到桌面
- **多视角节点（MultiAngle）** - 3D 视角控制，支持旋转、俯仰、缩放
- **编辑节点（Edit）** - 图生图，基于输入图片生成新图
- **去背景节点（RemoveBG）** - AI 智能抠图
- **放大节点（Upscale）** - 图片超分辨率放大
- **尺寸调整节点（Resize）** - 调整图片尺寸和比例
- **LLM 节点** - 文本生成和处理，支持自定义 System Prompt

**🔗 可视化连接流程**

- 节点之间通过连线建立数据流
- 支持多输入：一个节点可以接收多个上游输入
- 自动传递：提示词、图片、参数自动在节点间传递
- 批量生成：支持设置生成数量，一键批量执行

**💾 画布管理**

- **多画布支持** - 创建多个画布，独立管理不同项目
- **自动保存** - 画布状态实时自动保存
- **导入导出** - 画布可导出为 JSON 文件分享
- **预设系统** - 将常用节点组合保存为预设，快速复用

**🎯 工作流示例**

```
创意节点 → 多视角节点 → 编辑节点 → 保存节点
     ↓
提示词节点 → 编辑节点 → 放大节点 → 保存节点
```

**⚙️ 高级功能**

- **多视角控制**：通过滑块精确控制 3D 视角
  - 水平旋转：0° - 360°
  - 垂直俯仰：-90° - 90°
  - 距离缩放：0.5x - 3.0x
  - 支持简单/详细两种提示词模式

- **图片元数据显示**：自动提取并显示
  - 图片尺寸（宽 x 高）
  - 文件大小
  - 图片格式

- **执行控制**
  - 单节点执行：只运行当前节点
  - 批量执行：设置数量批量生成
  - 停止执行：随时中断运行
  - 进度显示：实时显示执行状态

**🎪 与桌面联动**

- 画布生成的图片自动同步到桌面
- 创意库内容可直接拖入画布使用
- 画布可创建对应的桌面文件夹

═══════════════════════════════════════════════════

## 🐛 Bug 修复

### Windows 打包优化

**问题**：打包后的应用任务栏显示 Electron 默认图标，而非企鹅 LOGO

**解决方案**：
1. 生成标准 ICO 格式图标（支持 16x16、32x32、48x48、256x256）
2. 添加 `afterPack` 构建钩子
3. 使用 `rcedit` 工具将图标嵌入到 .exe 文件
4. 在生产环境隐藏菜单栏，提供更沉浸的使用体验

**改进效果**：
- ✓ 任务栏正确显示企鹅图标
- ✓ 安装程序图标统一
- ✓ 界面更加简洁专业

═══════════════════════════════════════════════════

## 📦 技术改进

### 构建系统

- 新增 `scripts/afterPack.cjs` - 打包后自动处理图标
- 优化 `package.json` 打包配置
- 完善 Windows 平台图标资源设置

### 画布架构

- 支持 Gemini API 和贞贞 API 双接口
- 节点间数据流自动解析和传递
- 预设系统支持模板化工作流
- 完善的错误处理和状态提示

═══════════════════════════════════════════════════

## 📝 使用建议

### 首次使用画布

1. 点击主界面右上角的「画布」按钮
2. 创建新画布或打开已有画布
3. 从左侧边栏拖入节点到画布
4. 连接节点建立工作流
5. 点击节点上的「执行」按钮开始生成

### 典型应用场景

**场景一：批量多视角生成**
```
创意节点 → 多视角节点（设置不同角度）→ 保存节点
```

**场景二：图片精修流程**
```
图片节点 → 去背景 → 放大 → 尺寸调整 → 保存节点
```

**场景三：创意扩展**
```
提示词节点 → 编辑节点（多个，不同参数）→ 保存节点
```

═══════════════════════════════════════════════════

## ⚠️ 注意事项

1. **API 配置**：使用画布前需在「设置」中配置 API Key
2. **旧版本升级**：建议卸载旧版本后重新安装 1.1.9
3. **数据备份**：画布数据保存在本地，升级不会丢失

═══════════════════════════════════════════════════

## 📥 下载方式

提供两种安装包：

- **PenguinMagic Setup 1.1.9.exe** - 安装版（推荐，含自动更新）
- **PenguinMagic 1.1.9.exe** - 便携版（免安装，即开即用）

═══════════════════════════════════════════════════

## 🔮 下一步计划

- 画布预设市场（分享和下载工作流模板）
- 更多 AI 处理节点（风格迁移、智能修复等）
- 画布性能优化（大规模节点网络）
- 节点组功能（将多个节点打包为子图）

═══════════════════════════════════════════════════

感谢各位企鹅魔法师的支持与反馈！

如有问题或建议，欢迎加入 QQ 群：854266067

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
© 2026 PenguinCreative. 企鹅工坊 - 让 AI 创作不再凌乱
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
